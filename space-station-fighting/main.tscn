[gd_scene load_steps=10 format=3 uid="uid://bk1vy0rr1lry7"]

[ext_resource type="PackedScene" uid="uid://bq23m3f7jfw0b" path="res://character.tscn" id="1_aw4sl"]
[ext_resource type="Script" uid="uid://cbiah0ieoaanp" path="res://main.gd" id="1_bquf4"]
[ext_resource type="Script" uid="uid://csesvry1vxl4y" path="res://actions.gd" id="2_0xm2m"]
[ext_resource type="Texture2D" uid="uid://jr71a7v3xkrg" path="res://hello-worked-today-on-an-animated-reactor-for-the-spaceship-v0-3lbhd4q0m6gc1.webp" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://cbxoi8afg8x5r" path="res://bullet.tscn" id="4_5cqrd"]
[ext_resource type="Script" uid="uid://cpw4ywmh2sveo" path="res://ui_controller.gd" id="5_ui"]
[ext_resource type="Script" uid="uid://mvvf5ipix07n" path="res://health_bar.gd" id="7_5vw27"]
[ext_resource type="Script" uid="uid://cv1twd15faqee" path="res://shield_bar.gd" id="7_272bh"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ssnb4"]
radius = 133.0
height = 278.0

[node name="Main" type="Node2D"]
script = ExtResource("1_bquf4")

[node name="HelloWorkedTodayOnAnAnimatedReactorForTheSpaceshipV03Lbhd4q0m6Gc1" type="Sprite2D" parent="."]
position = Vector2(593, 378)
scale = Vector2(1.85337, 1.87321)
texture = ExtResource("3_h2yge")

[node name="character" parent="." instance=ExtResource("1_aw4sl")]
position = Vector2(117, 448)
frame_progress = 0.872475

[node name="bullet" parent="." instance=ExtResource("4_5cqrd")]
position = Vector2(123, 480)
scale = Vector2(0.5, 0.5)

[node name="cant_walk" type="Area2D" parent="."]
collision_mask = 2

[node name="cant_walk" type="CollisionShape2D" parent="cant_walk"]
position = Vector2(592, 384)
shape = SubResource("CapsuleShape2D_ssnb4")

[node name="DivertShieldButton" type="Button" parent="."]
modulate = Color(1, 0.141176, 0, 1)
offset_left = 907.0
offset_top = 569.0
offset_right = 1119.0
offset_bottom = 620.0
text = "Divert Battery to Health
"

[node name="DivertSignalButton" type="Button" parent="."]
offset_left = 955.0
offset_top = 482.0
offset_right = 1081.0
offset_bottom = 540.0
text = "Divert to Signal"

[node name="OverchargeButton" type="Button" parent="."]
offset_left = 663.0
offset_top = 571.0
offset_right = 863.0
offset_bottom = 625.0
theme_override_colors/icon_hover_color = Color(1, 0, 0, 1)
text = "Emergency Overcharge"

[node name="GameOverScreen" type="PanelContainer" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="GameOverScreen"]
layout_mode = 2
color = Color(0, 0, 0, 0.0235294)

[node name="Panel" type="Panel" parent="GameOverScreen"]
layout_mode = 2

[node name="ResultMessage" type="VBoxContainer" parent="GameOverScreen/Panel"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 368.0
offset_top = 310.0
offset_right = 808.0
offset_bottom = 470.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="ResultLabel" type="Label" parent="GameOverScreen/Panel/ResultMessage"]
layout_mode = 2
text = "Game Over"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="GameOverScreen/Panel/ResultMessage"]
layout_mode = 2
alignment = 1

[node name="RestartButton" type="Button" parent="GameOverScreen/Panel/ResultMessage/HBoxContainer"]
layout_mode = 2
text = "Restart"

[node name="QuitButton" type="Button" parent="GameOverScreen/Panel/ResultMessage/HBoxContainer"]
layout_mode = 2
text = "Quit"

[node name="ActionsManager" type="Node" parent="."]
script = ExtResource("2_0xm2m")

[node name="UIController" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("5_ui")

[node name="HealthGroup" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="HealthName" type="Label" parent="HealthGroup"]
layout_mode = 0
offset_left = 25.0
offset_top = 576.0
offset_right = 379.0
offset_bottom = 599.0
text = "Health"

[node name="HealthBar" type="ProgressBar" parent="HealthGroup"]
modulate = Color(0, 1, 0, 1)
layout_mode = 0
offset_left = 25.0
offset_top = 603.0
offset_right = 379.0
offset_bottom = 630.0
value = 100.0
rounded = true
show_percentage = false
script = ExtResource("7_5vw27")

[node name="HealthLabel" type="Label" parent="HealthGroup/HealthBar"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 10.0
offset_top = -11.5
offset_right = 11.0
offset_bottom = 11.5
grow_vertical = 2

[node name="BatteryGroup" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="BatteryName" type="Label" parent="BatteryGroup"]
layout_mode = 0
offset_left = 21.0
offset_top = 21.0
offset_right = 375.0
offset_bottom = 44.0
text = "Battery"

[node name="BatteryBar" type="ProgressBar" parent="BatteryGroup"]
modulate = Color(0, 1, 0, 1)
layout_mode = 0
offset_left = 21.0
offset_top = 48.0
offset_right = 225.0
offset_bottom = 75.0
value = 100.0
rounded = true

[node name="ShieldGroup" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ShieldName" type="Label" parent="ShieldGroup"]
layout_mode = 0
offset_left = 24.0
offset_top = 518.0
offset_right = 378.0
offset_bottom = 541.0
text = "Shield"

[node name="ShieldBar" type="ProgressBar" parent="ShieldGroup"]
modulate = Color(0, 0.713726, 1, 1)
layout_mode = 0
offset_left = 24.0
offset_top = 545.0
offset_right = 202.0
offset_bottom = 572.0
step = 1.0
value = 100.0
rounded = true
show_percentage = false
script = ExtResource("7_272bh")

[node name="ShieldLabel" type="Label" parent="ShieldGroup/ShieldBar"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 10.0
offset_top = -11.5
offset_right = 50.0
offset_bottom = 11.5
grow_vertical = 2

[node name="SignalGroup" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="SignalLabel" type="Label" parent="SignalGroup"]
layout_mode = 0
offset_left = 795.0
offset_top = 201.0
offset_right = 1149.0
offset_bottom = 224.0
text = "Signal"

[node name="SignalBar" type="ProgressBar" parent="SignalGroup"]
layout_mode = 0
offset_left = 795.0
offset_top = 228.0
offset_right = 1149.0
offset_bottom = 255.0

[connection signal="area_shape_entered" from="cant_walk" to="character" method="_on_cant_walk_area_shape_entered"]
[connection signal="pressed" from="GameOverScreen/Panel/ResultMessage/HBoxContainer/RestartButton" to="." method="_on_restart_button_pressed"]
